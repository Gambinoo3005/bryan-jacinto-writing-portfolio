---
---
<div class="reading-progress-container">
  <div class="reading-progress-bar" id="reading-progress"></div>
</div>

<style>
  .reading-progress-container {
    position: fixed;
    top: 88px; /* Below the header */
    left: 0;
    width: 100%;
    height: 4px;
    background: transparent;
    z-index: 40; /* Below header (50) but above content */
    pointer-events: none;
  }

  .reading-progress-bar {
    height: 100%;
    width: 0%;
    background: var(--color-link);
    transition: width 0.1s ease-out;
    border-radius: 0 2px 2px 0;
    box-shadow: 0 0 10px color-mix(in srgb, var(--color-link) 50%, transparent);
  }
</style>

<script>
  const progressBar = document.getElementById('reading-progress');

  const updateProgress = () => {
    if (!progressBar) return;

    const scrollTop = window.scrollY || document.documentElement.scrollTop;
    const scrollHeight = document.documentElement.scrollHeight - document.documentElement.clientHeight;
    
    if (scrollHeight <= 0) {
      progressBar.style.width = '0%';
      return;
    }

    const progress = (scrollTop / scrollHeight) * 100;
    progressBar.style.width = `${progress}%`;
  };

  window.addEventListener('scroll', updateProgress, { passive: true });
  window.addEventListener('resize', updateProgress);
  
  // Initial call
  updateProgress();
</script>
